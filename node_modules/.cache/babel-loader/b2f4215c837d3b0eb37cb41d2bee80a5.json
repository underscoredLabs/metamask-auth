{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.getLog = exports.enableLogByPrefix = exports.enableLog = exports.initLog = void 0;\nvar colors = {\n  // green\n  'DescriptorStream': 'color: #77ab59',\n  'DeviceList': 'color: #36802d',\n  'Device': 'color: #bada55',\n  'Core': 'color: #c9df8a',\n  'IFrame': 'color: #FFFFFF; background: #f4a742;',\n  'Popup': 'color: #f48a00'\n};\nvar MAX_ENTRIES = 100;\n\nvar Log = /*#__PURE__*/function () {\n  function Log(prefix, enabled) {\n    this.prefix = prefix;\n    this.enabled = enabled;\n    this.messages = [];\n    this.css = colors[prefix] || 'color: #000000; background: #FFFFFF;';\n  }\n\n  var _proto = Log.prototype;\n\n  _proto.addMessage = function addMessage(level, prefix) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    this.messages.push({\n      level: level,\n      prefix: prefix,\n      message: args,\n      timestamp: new Date().getTime()\n    });\n\n    if (this.messages.length > MAX_ENTRIES) {\n      this.messages.shift();\n    }\n  };\n\n  _proto.log = function log() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    this.addMessage.apply(this, ['log', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console;\n\n      (_console = console).log.apply(_console, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.error = function error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    this.addMessage.apply(this, ['error', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console2;\n\n      (_console2 = console).error.apply(_console2, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.warn = function warn() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    this.addMessage.apply(this, ['warn', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console3;\n\n      (_console3 = console).warn.apply(_console3, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.debug = function debug() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    this.addMessage.apply(this, ['debug', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console4;\n\n      (_console4 = console).log.apply(_console4, ['%c' + this.prefix, this.css].concat(args));\n    }\n  };\n\n  return Log;\n}();\n\nvar _logs = {};\n\nvar initLog = function initLog(prefix, enabled) {\n  var instance = new Log(prefix, !!enabled);\n  _logs[prefix] = instance;\n  return instance;\n};\n\nexports.initLog = initLog;\n\nvar enableLog = function enableLog(enabled) {\n  for (var _i = 0, _Object$keys = Object.keys(_logs); _i < _Object$keys.length; _i++) {\n    var l = _Object$keys[_i];\n    _logs[l].enabled = enabled;\n  }\n};\n\nexports.enableLog = enableLog;\n\nvar enableLogByPrefix = function enableLogByPrefix(prefix, enabled) {\n  if (_logs[prefix]) {\n    _logs[prefix].enabled = enabled;\n  }\n};\n\nexports.enableLogByPrefix = enableLogByPrefix;\n\nvar getLog = function getLog() {\n  var logs = [];\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(_logs); _i2 < _Object$keys2.length; _i2++) {\n    var l = _Object$keys2[_i2];\n    logs = logs.concat(_logs[l].messages);\n  }\n\n  logs.sort(function (a, b) {\n    return a.timestamp - b.timestamp;\n  });\n  return logs;\n};\n\nexports.getLog = getLog;","map":{"version":3,"sources":["/Users/leondo/Desktop/metamask-auth/node_modules/trezor-connect/lib/utils/debug.js"],"names":["exports","__esModule","getLog","enableLogByPrefix","enableLog","initLog","colors","MAX_ENTRIES","Log","prefix","enabled","messages","css","_proto","prototype","addMessage","level","_len","arguments","length","args","Array","_key","push","message","timestamp","Date","getTime","shift","log","_len2","_key2","apply","concat","_console","console","error","_len3","_key3","_console2","warn","_len4","_key4","_console3","debug","_len5","_key5","_console4","_logs","instance","_i","_Object$keys","Object","keys","l","logs","_i2","_Object$keys2","sort","a","b"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.getLog = exports.enableLogByPrefix = exports.enableLog = exports.initLog = void 0;\nvar colors = {\n  // green\n  'DescriptorStream': 'color: #77ab59',\n  'DeviceList': 'color: #36802d',\n  'Device': 'color: #bada55',\n  'Core': 'color: #c9df8a',\n  'IFrame': 'color: #FFFFFF; background: #f4a742;',\n  'Popup': 'color: #f48a00'\n};\nvar MAX_ENTRIES = 100;\n\nvar Log = /*#__PURE__*/function () {\n  function Log(prefix, enabled) {\n    this.prefix = prefix;\n    this.enabled = enabled;\n    this.messages = [];\n    this.css = colors[prefix] || 'color: #000000; background: #FFFFFF;';\n  }\n\n  var _proto = Log.prototype;\n\n  _proto.addMessage = function addMessage(level, prefix) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    this.messages.push({\n      level: level,\n      prefix: prefix,\n      message: args,\n      timestamp: new Date().getTime()\n    });\n\n    if (this.messages.length > MAX_ENTRIES) {\n      this.messages.shift();\n    }\n  };\n\n  _proto.log = function log() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    this.addMessage.apply(this, ['log', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console;\n\n      (_console = console).log.apply(_console, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.error = function error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    this.addMessage.apply(this, ['error', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console2;\n\n      (_console2 = console).error.apply(_console2, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.warn = function warn() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    this.addMessage.apply(this, ['warn', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console3;\n\n      (_console3 = console).warn.apply(_console3, [this.prefix].concat(args));\n    }\n  };\n\n  _proto.debug = function debug() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    this.addMessage.apply(this, ['debug', this.prefix].concat(args)); // eslint-disable-next-line no-console\n\n    if (this.enabled) {\n      var _console4;\n\n      (_console4 = console).log.apply(_console4, ['%c' + this.prefix, this.css].concat(args));\n    }\n  };\n\n  return Log;\n}();\n\nvar _logs = {};\n\nvar initLog = function initLog(prefix, enabled) {\n  var instance = new Log(prefix, !!enabled);\n  _logs[prefix] = instance;\n  return instance;\n};\n\nexports.initLog = initLog;\n\nvar enableLog = function enableLog(enabled) {\n  for (var _i = 0, _Object$keys = Object.keys(_logs); _i < _Object$keys.length; _i++) {\n    var l = _Object$keys[_i];\n    _logs[l].enabled = enabled;\n  }\n};\n\nexports.enableLog = enableLog;\n\nvar enableLogByPrefix = function enableLogByPrefix(prefix, enabled) {\n  if (_logs[prefix]) {\n    _logs[prefix].enabled = enabled;\n  }\n};\n\nexports.enableLogByPrefix = enableLogByPrefix;\n\nvar getLog = function getLog() {\n  var logs = [];\n\n  for (var _i2 = 0, _Object$keys2 = Object.keys(_logs); _i2 < _Object$keys2.length; _i2++) {\n    var l = _Object$keys2[_i2];\n    logs = logs.concat(_logs[l].messages);\n  }\n\n  logs.sort(function (a, b) {\n    return a.timestamp - b.timestamp;\n  });\n  return logs;\n};\n\nexports.getLog = getLog;"]},"metadata":{},"sourceType":"script"}