{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.create = create;\nexports.createAsync = createAsync;\nexports.resolveTimeoutPromise = resolveTimeoutPromise;\nexports.rejectTimeoutPromise = rejectTimeoutPromise;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nfunction create(arg, device) {\n  var localResolve = function localResolve(t) {};\n\n  var localReject = function localReject(e) {};\n\n  var id; // eslint-disable-next-line no-async-promise-executor\n\n  var promise = new Promise( /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(resolve, reject) {\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              localResolve = resolve;\n              localReject = reject;\n\n              if (!(typeof arg === 'function')) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.prev = 3;\n              _context.next = 6;\n              return arg();\n\n            case 6:\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](3);\n              reject(_context.t0);\n\n            case 11:\n              if (typeof arg === 'string') id = arg;\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 8]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return {\n    id: id,\n    device: device,\n    resolve: localResolve,\n    reject: localReject,\n    promise: promise\n  };\n}\n\nfunction createAsync(innerFn) {\n  var localResolve = function localResolve(t) {};\n\n  var localReject = function localReject(e) {};\n\n  var promise = new Promise(function (resolve, reject) {\n    localResolve = resolve;\n    localReject = reject;\n  });\n\n  var inner = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n      return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return innerFn();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function inner() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return {\n    resolve: localResolve,\n    reject: localReject,\n    promise: promise,\n    run: function run() {\n      inner();\n      return promise;\n    }\n  };\n}\n\nfunction resolveTimeoutPromise(delay, result) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      resolve(result);\n    }, delay);\n  });\n}\n\nfunction rejectTimeoutPromise(delay, error) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      reject(error);\n    }, delay);\n  });\n}","map":{"version":3,"sources":["/Users/leondo/Desktop/metamask-auth/node_modules/trezor-connect/lib/utils/deferred.js"],"names":["_interopRequireDefault","require","exports","__esModule","create","createAsync","resolveTimeoutPromise","rejectTimeoutPromise","_regenerator","_asyncToGenerator2","arg","device","localResolve","t","localReject","e","id","promise","Promise","_ref","mark","_callee","resolve","reject","wrap","_callee$","_context","prev","next","t0","stop","_x","_x2","apply","arguments","innerFn","inner","_ref2","_callee2","_callee2$","_context2","run","delay","result","setTimeout","error"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.create = create;\nexports.createAsync = createAsync;\nexports.resolveTimeoutPromise = resolveTimeoutPromise;\nexports.rejectTimeoutPromise = rejectTimeoutPromise;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nfunction create(arg, device) {\n  var localResolve = function localResolve(t) {};\n\n  var localReject = function localReject(e) {};\n\n  var id; // eslint-disable-next-line no-async-promise-executor\n\n  var promise = new Promise( /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(resolve, reject) {\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              localResolve = resolve;\n              localReject = reject;\n\n              if (!(typeof arg === 'function')) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.prev = 3;\n              _context.next = 6;\n              return arg();\n\n            case 6:\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](3);\n              reject(_context.t0);\n\n            case 11:\n              if (typeof arg === 'string') id = arg;\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 8]]);\n    }));\n\n    return function (_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return {\n    id: id,\n    device: device,\n    resolve: localResolve,\n    reject: localReject,\n    promise: promise\n  };\n}\n\nfunction createAsync(innerFn) {\n  var localResolve = function localResolve(t) {};\n\n  var localReject = function localReject(e) {};\n\n  var promise = new Promise(function (resolve, reject) {\n    localResolve = resolve;\n    localReject = reject;\n  });\n\n  var inner = /*#__PURE__*/function () {\n    var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n      return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return innerFn();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function inner() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return {\n    resolve: localResolve,\n    reject: localReject,\n    promise: promise,\n    run: function run() {\n      inner();\n      return promise;\n    }\n  };\n}\n\nfunction resolveTimeoutPromise(delay, result) {\n  return new Promise(function (resolve) {\n    setTimeout(function () {\n      resolve(result);\n    }, delay);\n  });\n}\n\nfunction rejectTimeoutPromise(delay, error) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      reject(error);\n    }, delay);\n  });\n}"]},"metadata":{},"sourceType":"script"}